## Версия 1.11.0 (22 мая 2025г):
### Добавлено:
- в админское меню смены команды (amx_teammenu), добавлено дополнительное меню  
  в котором можно скорректировать выбранного игрока, команду и выбрать как  
  перевести игрока сразу или в следующем раунде (после смерти при tc_no_rounds 1)
- добавлен квар tc_immunity_ignore_flags, отвечающий за флаги доступа необходимые  
  для игнорирования иммунитета от автобаланса. Пригодится если обычные игроки  
  получают флаги иммунитета (например ночью)
- добавлен квар tc_balance_by_flags_access_flags, отвечающий за флаги доступа  
  необходимые для баланса, уравнивающего команды по кол-ву игроков с флагом
- добавлен квар tc_balance_by_flags_ignore_flags, отвечающий за флаги доступа  
  необходимые для игнорирования балансом, уравнивающим команды по кол-ву игроков  
  с флагом. Пригодится если обычные игроки получают временные флаги  
  (например ночью)
- в api новые условия для перевода в другую команду TC_DELAYED_UNTIL_START_ROUND 
- в каждый тип баланса добавлен дебаг лог, сообщающий что баланс невозможен  
  так как не было найдено ни одного игрока. Пригодится для выявления проблем  
  с настройками. Например слишком большое время иммунитета

### Изменено:
- квар tc_balance_by_flags теперь включает (1) и отключает (0) баланс по флагам
- баланс по количеству игроков теперь старается переводить игроков с наименьшим  
  скилом (так как они меньше всего влияют на баланс команд), если включен баланс  
  по скилу и имеются соответствующие плагины скила
- баланс по скилу теперь не переводит слабого игрока в сильную команду, если в  
  ней больше игроков чем в слабой команде (чтобы баланс по количеству игроков,  
  снова не перевел какого-нибудь игрока, создав дисбаланс)
- при включенном балансе по флагам на входе игрок автоматически распределяется  
  в нужную команду несмотря на его выбор команды
- плагин более не сбрасывает состояние defusekit при смене команды (возможная  
  причина проблем в плагинах смены моделей игрока с поддержкой суб-моделей)
- переработаны debug логи (теперь удобнее следить за логикой работы)
- заблокирована возможность выбирать команду через jointeam (yapb боты игнорируются)
- изменен порядок кваров в конфиге: tc_select_team_menu_type, tc_no_rounds,  
  tc_immunity_skip_times
- переименован квар tc_access_flags в tc_team_menu_access_flags
- переименован квар tc_high_access_flags в tc_team_menu_high_access_flags
- изменен вид пунктов меню в админском меню смены команды (amx_teammenu)
- удалён код поддерживающий HLDS версии. Теперь только ReHLDS

### Исправлено:
- баланс по скилу переставал работать до конца карты, если разница в скиле команд  
  была менее 30 единиц
- недочет в расчёте скила команд
- игроку моментально менялась команда при возрождении от плагина Revive Teammates,  
  если игрок переводился через меню принудительной смены команды
- в балансе по флагам не считались за випов игроки с флагами tc_full_immunity_flags
- проблема с сообщениями чата TC_BALANCED_BY_SKILL_ALL_*
- проблема с обнулением данных баланса по скилу
- проблема с обновлением данных в меню выбора команды
- проблема со сбросом ограничения на смену команду при входе
- в режиме tc_no_rounds 1 боты переводились будучи живыми. При этом объекты  
  (пушки, лазеры, раздатчики и т.д.) построенные ими числились в старой команде

### Удалено:
- удален квар tc_time_quota. Причина: Эффект от квара почти незаметный, так как  
  отменяется другими типами баланса и желанием игроков самим выбирать за какую  
  карту они хотят играть
- удален квар tc_data_storage_time. Причина: Более не нужен, так как квар  
  tc_time_quota был удален 
- удален ключ словаря TC_SKILL_BALANCE_NOT_REQUIRED и соответствующее сообщение

### Обновившиеся файлы:
- addons/amxmodx/plugins/team_control.amxx
- addons/amxmodx/configs/team_control.cfg
- addons/amxmodx/data/lang/team_control.txt

## Версия 1.10.0 (18 апр 2024г):
### Добавлено:
- поддержка скила из плагинов CsStats MySQL и StatsX RBS от SKAJIbnEJIb 

### Изменено:
- улучшено описание многих кваров
- повышено удобство чтения team_control.cfg (длина строк)
- в 'lang/team_control.txt' добавлена памятка о возможности отключать сообщения
- удален квар tc_use_custom_amx_teammenu, так как с этой задачей справляется  
  квар tc_team_menu_cmd
- переработаны дебаг логи

### Исправлено:
- tc_skill_use_score работал некорректно если был установлен плагин Skill ELO  
  от SKAJIbnEJIb
- баланс по флагам работал некорректно при tc_no_rounds 1

### Обновившиеся файлы:
- addons/amxmodx/plugins/team_control.amxx
- addons/amxmodx/configs/team_control.cfg
- addons/amxmodx/data/lang/team_control.txt

## Версия 1.9.0 (13 янв 2024г):
### Добавлено:
- добавлен квар tc_changeteam_effects, который задает флаги определяющие набор  
  эффектов при автобалансе игрока  
  a - звук из квара 'tc_changeteam_sound'  
  b - затемнение экрана игрока цветом новой команды  
  c - HUD сообщение
- добавлен квар tc_changeteam_effects_delay, отвечающий за задержку появления  
  эффектов при автобалансе игрока
- добавлен квар tc_chooseteam_cmd, отвечающий за список команд (разделенных ';')  
  с помощью которых будет вызываться меню 'Выбор команды'
- добавлен квар tc_team_menu_cmd, отвечающий за список команд (разделенных ';')  
  с помощью которых будет вызываться меню 'Перевести в команду'
- добавлен квар tc_balance_bots_num, который определяет будет (1) или нет (0)  
  включена балансировка количества ботов в командах
- добавлен квар tc_skill_use_score, который включает принудительное использование  
  счета игрока при балансировке по уровню умений. Даже если установлен плагин  
  отвечающий за скил, он будет игнорироваться
- добавлен квар tc_full_immunity_flags, отвечающий за флаги доступа необходимые  
  для получения полного иммунитета от автобаланса, включая баланс по флагам  
  доступа (tc_balance_by_flags)
- добавлен квар tc_data_storage_time, отвечающий время хранения данных игрока  
  (в днях) с момента последнего посещения (по умолчанию месяц)  
  Обнуляются данные игрока, отвечающие за время игры на карте  
  (см квар 'tc_time_quota')
- добавлено сообщение чата информирующее о том что баланс по скилу не требуется
- добавлено больше дебаг логов

### Изменено:
- улучшены описания кваров: tc_balance_by_flags, tc_access_flags,
  tc_high_access_flags
- бот теперь участвует в балансе всегда, несмотря на то что его уже переводило
- переделан баланс по количеству игроков
- сообщения чата информирующие о переводе игрока используют командный цвет  
  переводимого игрока (ранее был цвет игрока который получает сообщение)
- квар tc_hud_msg переименован в tc_changeteam_hud_msg
- удален квар tc_changeteam_screen_fade (см tc_changeteam_effects)

### Исправлено:
- квар версии плагина не был переименован. Теперь: team_control_version
- исправлен тип квара tc_time_quota
- при рестарте игры (sv_restart) не сбрасывалась задержка баланса по скилу
- фактически не работал баланс при tc_no_rounds 1
- меню 'Выбор команды' не обновляло значения кол-ва игроков при определенных  
  условиях

### Обновившиеся файлы:
- addons/amxmodx/plugins/team_control.amxx
- addons/amxmodx/configs/team_control.cfg
- addons/amxmodx/data/lang/team_control.txt

## Версия 1.6.8 (06 апр 2021г):
### Добавлено:
- добавлен квар tc_time_quota, отвечающий за квоту времени игры за одну команду  
  (в минутах), превышая которую повышается шанс переноса в другую команду при  
  балансировке по количеству игроков
- добавлена поддержка плагина Skill ELO от SKAJIbnEJIb. Если плагин включен баланс  
  по скилу переключается на использование значений скила полученных из плагина  
  Skill ELO. Никаких дополнительных настроек не требуется.

### Изменено:
- во все типы баланса, добавлена рандомизация списка игроков
- изменен код под внешнее ядро плагинов (plugins_core.amxx)
- изменен код для лучшей совместимости All Inclusive
- изменено название и логика первого пункта меню при 'tc_select_team_menu_type 2'.  
  При входе на сервер первый пункт меню будет иметь название 'Войти в игру', а  
  после входа - 'Сменить команду'

### Исправлено:
- исправлен недочет меню из-за изменения кода в AMX Mod X версии 1.8.3+
- квар tc_skill_score_diff не поддерживал значение 0 и условие выполнялось всегда

### Обновившиеся файлы:
- addons/amxmodx/plugins/team_control.amxx
- addons/amxmodx/configs/team_control.cfg
- addons/amxmodx/data/lang/team_control.txt

## Версия 1.6.2 (03 сен 2019г):
### Изменено:
- изменения кода для совместимости со сборкой All Inclusive

## Версия 1.6.0 (13 мая 2019г):
### Добавлено:
- добавлено более функциональное меню смены команды игрока для админов, на замену  
  стандартного amx_teammenu:
  - у каждого игрока в меню отображается его команда
  - игрок за которым идет наблюдение первый в списке
  - игрок открывший меню второй в списке
  - если игрок жив, смена команды откладывается до его смерти или начала раунда.  
    И переводится моментально, если он уже мертв

- все квары настраивающие флаги доступа теперь поддерживают спец значения:
  - \*steam - доступно игрокам, использующим Steam CS
  - \*bot - доступно ботам
  - \*hltv - доступно HLTV

- добавлен квар tc_use_custom_amx_teammenu, определяющий будет использоваться (1)  
  или нет (0) нестандартное меню принудительной смены команды игроков 'amx_teammenu'
- добавлен квар tc_access_flags, отвечающий за флаги доступа необходимые для  
  использования меню смены команды игрокам
- добавлен квар tc_high_access_flags, отвечающий за флаги доступа необходимые для  
  возможности менять команду игрокам с иммунитетом
- добавлены дебаг логи для оценки эффективности баланса команд (tc_debug_level "1")

### Изменено:
- квары отвечающие за настройку HUD сообщений (оканчивающиеся на \_pos и \_color),  
  объединены в один квар где значение цвета и координат разделяется символом '|'

## Версия 1.5.4 (22 ноя 2018г):
### Добавлено:
- добавлены форвард функции 'tc_change_team_pre' и 'tc_change_team_post', которые  
  вызываются перед (pre) и после (post) смены команды игрока (см team_control.inc)  
  Если форвард функция 'tc_change_team_pre' возращает PLUGIN_HANDLED, то смена  
  команды блокируется  
  Если форварды не используются, то необходимые для их работы функции не  
  регистрируются и не вызываются
- добавлена native функция 'tc_change_team', с помощью которой можно менять  
  команду игрока функция также запускает форварды 'tc_change_team_pre' и  
  'tc_change_team_pre', для информирования других плагинов о смене команды  
  поддерживает 3 режима перевода игрока в другую команду:
  - TC_NATIVE - родной, вызывается gamedll (используется только в форварде  
    'tc_change_team_post')
  - TC_MENU - вызывается при смене команды через меню плагина (используется в  
    форвардах 'tc_change_team_pre' и 'tc_change_team_post'')
  - TC_IMMEDIATELY_TRANSFER - моментальный
  - TC_DELAYED_UNTIL_RESPAWN - отложенный до следующего возрождения
  - TC_DELAYED_UNTIL_KILLED - отложенный до момента смерти

### Изменено:
- изменено название плагина с 'Auto Team Balance Adanced' на 'Team Control' из-за  
  того то плагин вышел за рамки функциональности относящейся к балансу игроков и  
  теперь отвечает за все что связано с командой игрока
- изменено имя файла словаря мультиязычности с 'auto_team_balance_advanced.txt'  
  на 'team_control.txt' из-за смены названия плагина
- изменено имя конфигурационного файла с 'auto_team_balance_advanced.cfg' на  
  'team_control.cfg' из-за смены названия плагина
- изменен префикс имен форвард функций из-за смены названия плагина: с 'atb_' на 'tc_'
- изменен префикс кваров из-за смены названия плагина: с 'tb_' на 'tc_'
- изменен префикс ключей мультиязычности в team_control.txt из-за смены названия  
  плагина

## Версия 1.5.1 (31 мар 2018г):
### Добавлено:
- реклама в консоли игрока при подключении
- добавлен квар tb_fix_score_info, определяющий будет исправляться (1) или нет (0)  
  счет игрока, который живым меняет команду (исправляет отнимание фрага и  
  прибавление смерти)
- добавлен форвард 'atb_team_selection_ended', который вызывается после выбора  
  внешнего вида игрока или выбора команды если tb_auto_random_appearance имеет  
  значение 1. Если форвард не используется, то необходимые для его работы функции  
  не регистрируются и не вызываются
- добавлен квар tb_auto_random_appearance, который определяет будет ли  
  назначаться (1) или нет (0) автоматически внешний вид игрока после выбора команды
- добавлен квар tb_balance_by_flags, который определяет будет ли производиться  
  балансировка по флагам доступа (1) или нет (0)

### Изменено:
- для режима с раундами баланс по количеству игроков выбирает игрока с наименьшим  
  временем игры, то есть того кто позже зашел на сервер

### Исправлено:
- исправлен недочет (версии 1.4.8): игрок не мог выйти в наблюдатели будучи живым
- исправлен недочет (версии 1.4.6): при включенном CSDM моде игрок не мог  
  возродиться если ранее вышел в наблюдатели
- исправлен недочет: при включенном CSDM моде игрок не мог возродиться при смене  
  команды
- исправлен недочет: меню становилось стандартным если вход в команду был запрещен  
  из-за ограничений mp_limitteams
- исправлен недочет: неправильный индекс игрока, которого должен перевести автобаланс

### Удалено:
- удален квар tb_forced_respawn_delay, так как практически не используется и  
 в тоже время может быть потенциальной причиной падения сервера

## Версия 1.4.0 (20 сен 2017г):
### Добавлено:
- добавлен форвард 'atb_check_player', который вызывается для каждого игрока в  
  процессе автобаланса. Если форвард возвращает значение PLUGIN_HANDLED, то игрок  
  игнорируется автобалансом
- добавлен квар tb_hud_msg_color, который задает RGB цвет HUD сообщения,  
  информирующего игрока о том что его переместил автобаланс
- добавлен квар tb_hud_msg_pos, который задает x и y координаты HUD сообщения,  
  информирующего игрока о том что его переместил автобаланс
- добавлен квар tb_changeteam_screen_fade, который определяет будет затемняться (1)  
  или нет (0) игроку экран цветом новой команды при автобалансе
- добавлен квар tb_changeteam_sound, отвечающий за путь к файлу звука (wav или mp3),  
  который будет проигрываться игроку если его перекинул автобаланс. Если квар  
  пустой, то звук не проигрывается

### Изменено:
- квар debug_level переименован в tb_debug_level, чтобы не пересекаться с  
  другими плагинами
- теперь при переходе в наблюдатели смена команды также блокируется, так как  
  раньше была возможность обходить временные ограничения на смену команды через  
  наблюдателей

### Исправлено:
- исправлен недочет: иногда неправильно рассчитывалось время иммунитета от  
  автобаланса
- устранена несовместимость с ReGameDLL
- устранен недочет: не был удален отладочный код, для тестирования на локальном  
  сервере
- исправлен недочет: иногда не затемнялся экран при автобалансе, так как слишком  
  рано отправлялось сообщение (багрепорт Bullseye)

## Версия 1.3.0 (27 июл 2017г):
### Добавлено:
- добавлено динамическое переключение типов меню (квар tb_select_team_menu_type),  
  в связи с появлением команды tb_reload_cvars
- добавлено динамическое переключение плагина в режим без раундов и обратно, в  
  связи с появлением команды tb_reload_cvars
- добавлена серверная консольная команда tb_reload_cvars, которая обновляет  
  значения кваров плагина
- появилась возможность отключения любых сообщений с помощью комментирования в  
  auto_team_balance_advanced.txt ('//' или ';')

### Изменено:
- удален код блокирующий запуск плагина на ReHLDS серверах, но не проверялась  
  работоспособность

### Исправлено:
- исправлен недочет: не срабатывал обработчик нажатия клавиш из-за изменений  
  связанных с динамическим переключением типов меню
- исправлен недочет при котором игроку не блокировалась смена команды если  
  tb_no_rounds 1
- исправлен недочет при котором игроку блокировался выбор в случае если он  
  замешкался (например при старте карты) и получал отказ в смене команды
- исправлен недочет при котором при переходе в Наблюдатели игроку запрещалась  
  смена команды

## Версия 1.2.0 (6 ноя 2016г):
### Добавлено:
- добавлено автоматическое создание multilang файла auto_team_balance_advanced.txt
- добавлено автоматическое создание конфигурационного файла  
  auto_team_balance_advanced.cfg, если он не существует
- добавлена возможность компиляции с поддержкой ReAPI

### Изменено:
- расширена функциональность кваров отвечающих за флаги доступа (см описание кваров)
- после выбора команды (включая первый выбор после подключения) игрок получает  
  иммунитет от баланса и запрет на смену команды в зависимости от настроек

### Исправлено:
- исправлено отображение несуществующей бомбы у Контр-Террориста перенесенного в  
  команду Террористов
- исправлен недочет при котором командный счет считался всегда как для режима  
  без раундов

## Версия 1.1 (29 апреля 2016г):
### Добавлено:
- добавлен квар tb_no_rounds, который включает режим работы рассчитанный на  
  сервера с постоянным возрождением (CSDM и ему подобные)
- добавлен квар tb_forced_respawn_delay, отвечающий за время через которое после  
  выбора команды игрок будет принудительно возрожден
- добавлен квар tb_balance_by_playersnum, который определяет будет ли производиться  
  балансировка команд по количеству игроков
- добавлен квар tb_balance_by_skill, который определяет будет ли производиться  
  балансировка команд по уровню умений
- добавлен квар tb_changeteam_block_times, который определяет на сколько раундов  
  или минут (для режима без раундов) переведенному плагином в другую команду  
  игроку будет заблокирована возможность ручной смены команды
- добавлена возможность компиляции плагина в режиме интеграции  
  (#define ADMIN_LOADER_INTEGRATION) с плагином Admin Loader версии 1.5 и выше  
  от neygomon с целью получения флагов доступа через предоставляемое API

### Изменено:
- переименован квар tb_by_skill_interval в tb_skill_skip_times, в связи с  
  добавлением режима работы без раундов (см полное описание)
- переименован квар tb_reset_immunity_interval в tb_immunity_skip_times, в связи  
  с добавлением режима работы без раундов (см полное описание)