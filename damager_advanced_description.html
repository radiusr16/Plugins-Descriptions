<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Описание плагина Damager Advanced</title>
</head>
<body>
<div style="width: 700px;">
Damager Advanced 1.6.0
<p>Автор: Radius</p>
<p>Описание:</p>
<p style="padding-left: 30px;">Плагин отображает наносимый и получаемый урон, обладает широкими возможностями настройки (вплоть до создания своего уникального) и настройки каждым игроком под себя в игре.</p>
<p>Особенности:</p>
<ul>
<li>new: возможность задать флаги доступа к каждому типу дамагера (см damager_add_type)</li>
<li>new: возможность задать флаги игнорирования доступа к каждому типу дамагера (см damager_add_type)</li>
<li>возможность задать classname объектов урон от которых не будет отображаться (см damager_ignore_classname)</li>
<li>возможность настроить доступ к возможности видеть дамагер через стены (см damager_through_wall_access_flags)</li>
<li>новый тип дамагера Хитмаркер</li>
<li>возможность делать перенос строки в дамагере</li>
<li>возможность задать изменение цвета от зеленого к красному в зависимости от кол-ва здоровья (см описание damager_type_data в damager_advanced.cfg)</li>
<li>поддержка контекстно-зависимых значений аргументов msg_tpl и hs_msg_tpl: [dmg] и [hp] (см damager_advanced.cfg)</li>
<li>возможность создать свой уникальный дамагер с помощью серверных команд 'damager_add_type' и 'damager_type_data' (см описание команд в damager_advanced.cfg)</li>
<li>возможность задать звуки, которые будут проигрываться при попадании в игрока и его голову (квары damager_hit_sound и damager_headshot_sound)</li>
<li>каждый игрок может настроить дамагер с помощью меню через команду чата /damager (или !damager). Плагин запоминает выбор и игроку не придется каждый раз производить настройку при посещении сервера</li>
<li>все квары и команды для удобства настраиваются в автоматически создаваемом конфигурационном файле 'addons/amxmodx/configs/damager_advanced.cfg'</li>
<li>автоматически создаваемый словарь многоязычности 'addons/amxmodx/data/lang/damager_advanced.txt'</li>
</ul>
<p>Требования:</p>
<ul><li>Plugins Core (версии 1.8.0 и выше)</li></ul>
<p>Настройки (из автоматически создаваемого конфигурационного файла 'damager_advanced.cfg'):</p>
<div style="padding-left: 30px;white-space:pre;font-family:monospace">
// damager_update_config - обновляет файл 'damager_advanced.cfg' при смене карты
//   1 - обновить файл
//   2 - сделать бэкап (*.bkp) и обновить файл
// Внимание: Текущие значения кваров (кроме команд), запишутся в обновленный файл
// Квар со значением прописывается в консоли сервера
// После обновления квар сам вернется в значение 0

// damager_update_dictionary - обновляет lang файл 'damager_advanced.txt' при смене карты
//   1 - обновить файл
//   2 - сделать бэкап (*.bkp) и обновить файл
// Внимание: Квар со значением прописывается в консоли сервера
// После обновления квар сам вернется в значение 0

// Уровень логов
//  0 - выключено (OFF)
//  1 - предупреждения (WARN)
//  2 - информация (INFO)
//  3 - отладочная информация (DEBUG)
//  4 - подробная отладочная информация (TRACE)
// По умолчанию: "2"
damager_log_level "2"

// damager_data_storage_reset - обнулить (1) или нет (0) файл с настройками
// игроков при смене карты
// Квар со значением 1 прописывается в консоли сервера
// После обнуления квар сам вернется в значение 0

// Тип отображения нанесенного урона по умолчанию
// 0 - отключено (включается в меню)
// 1 - цифровой
// 2 - круговой
// 3 - символьный
// 4 - хитмаркер
// По умолчанию: "3"
damager_default_out_type "3"

// Тип отображения получаемого урона по умолчанию
// 0 - отключено (включается в меню)
// 1 - тип 1
// 2 - тип 2
// По умолчанию: "0"
damager_default_in_type "0"

// Проигрывать (1) или нет (0) звук игроку по умолчанию при попадании в противника
// По умолчанию: "0"
damager_default_hit_sound_state "0"

// Проигрывать (1) или нет (0) звук игроку по умолчанию при попадании в голову
// противника
// По умолчанию: "0"
damager_default_headshot_sound_state "0"

// Флаги доступа для игроков, у которых будет доступ к функциям дамагера
// Значение 'all' - разрешено всем, ''(пустое) - запрещено всем
// По умолчанию: "all"
damager_access_flags "all"

// Флаги доступа к возможности видеть урон через стены
// Значение 'all' - разрешено всем, ''(пустое) - запрещено всем
// По умолчанию: ""
damager_through_wall_access_flags ""

// Показывать урон только живым (1) или всем (0)
// По умолчанию: "1"
damager_only_alive "1"

// Список команд (разделенных ';') с помощью которых будет вызываться меню
// настройки дамагера
// Если используется say, то say_team добавляется автоматически
// Спец. значения: 'impulse 100' - фонарь, 'impulse 201' - спрей
// По умолчанию: "say /damager;say !damager"
damager_menu_cmd "say /damager;say !damager"

// Путь к файлу звука (mp3 или wav), который будет проигрываться игроку
// при попадании в противника (кроме попаданий в голову)
// Если значение пустое (''), то функция отключена
// По умолчанию: "damager_advanced/hit.wav"
damager_hit_sound "damager_advanced/hit.wav"

// Путь к файлу звука (mp3 или wav), который будет проигрываться игроку
// при попадании в голову противника
// Если значение пустое (''), то функция отключена
// По умолчанию: "damager_advanced/headshot.wav"
damager_headshot_sound "damager_advanced/headshot.wav"

// Время хранения данных игрока (в днях) с момента последнего посещения
// Данные игрока: измененные настройки в меню
// По умолчанию: "30"
damager_data_storage_time "30"

// damager_add_type - команда, которая добавляет тип отображения урона
// Формат команды:
//   damager_add_type "direction" "title" "position_order" "color_order" "duration" "msg_tpl" "hs_msg_tpl"
// direction - обязательный аргумент, отвечающий за направление урона
//   Допустимые значения: in - получаемый урон, out - наносимый урон
// title - обязательный аргумент, отвечающий за то, какое описание типа
//   дамагера будет в меню. Указывается либо текст, либо ключ словаря
//   из 'addons/amxmodx/data/lang/damager_advanced.txt'
// position_order - обязательный аргумент, который задает порядок данных,
//   отвечающих за позицию на экране
// color_order - обязательный аргумент, который задает порядок данных
//   отвечающих за цвет
// duration - обязательный аргумент, отвечающий за продолжительность HUD
//   сообщения дамагера текущего типа
// msg_tpl - обязательный аргумент, который задает шаблон HUD сообщения
//   дамагера
// hs_msg_tpl - обязательный аргумент, который задает шаблон HUD
//   сообщения дамагера при попадании в голову
// Для аргументов 'position_order' и 'color_order': Данные вводятся с помощью
//   команды 'damager_type_data'. Допустимые значения:
//   0 - данные идут по порядку
//   1 - случайный порядок
// Для аргументов 'msg_tpl' и 'hs_msg_tpl':
//   [dmg] - заменяется на кол-во урона (можно не указывать)
//   [hp]  - заменяется на кол-во здоровья (можно не указывать)
// access_flags - необязательный аргумент, отвечающий за флаги доступа к данному
//   типу дамагера. Спец. значения: 'all' - разрешено всем. Если аргумент не
//   указан, то это приравнивается к значению 'all'
// ignore_flags - необязательный аргумент, отвечающий за флаги игроков, которые
//   не будут иметь доступ к данному типу дамагера. Если аргумент не указан,
//   то он игнорируется

// damager_type_data - команда, которая добавляет данные для указанного ранее
//   типа отображения урона
// Формат команды:
//   damager_type_data "xy_position" "rgb_color"
// xy_position - обязательный аргумент, отвечающий за XY координаты HUD
//   сообщения дамагера текущего типа
// rgb_color - обязательный аргумент, отвечающий за RGB цвет HUD сообщения
//   дамагера текущего типа.
//   Спец значение:
//   hp - цвет меняется от зеленого к красному в зависимости от кол-ва здоровья

damager_add_type "out" "DAMAGER_MENU_OUT_TYPE1" "0" "0" "1.0" "[dmg]" "[dmg]"
damager_type_data "0.44 0.44" "0 100 200"
damager_type_data "0.54 0.44" "0 100 200"

damager_add_type "out" "DAMAGER_MENU_OUT_TYPE2" "0" "0" "2.5" "[dmg]" "[dmg]"
damager_type_data "0.49  0.39"   "0 127 255"   // blue
damager_type_data "0.541 0.418"  "255 127 0"   // orange
damager_type_data "0.562 0.485"  "127 0 255"   // purple
damager_type_data "0.541 0.554"  "0 255 0"     // green
damager_type_data "0.49  0.58"   "255 100 150" // pink
damager_type_data "0.439 0.554"  "0 127 255"   // blue
damager_type_data "0.418 0.485"  "255 127 0"   // orange
damager_type_data "0.439 0.418"  "127 0 255"   // purple

damager_add_type "out" "DAMAGER_MENU_OUT_TYPE3" "0" "0" "0.3" "*" "x"
damager_type_data "0.499 0.493" "255 165 0"

damager_add_type "out" "DAMAGER_MENU_OUT_TYPE4" "0" "0" "0.3" "\     /^n^n/     \" "\     /^n^n/     \"
damager_type_data "-1.0, 0.465" "255, 255, 255"

damager_add_type "in" "DAMAGER_MENU_IN_TYPE1" "0" "0" "1.0" "[dmg]" "[dmg]"
damager_type_data "0.44, 0.56" "255 0 0"
damager_type_data "0.54, 0.56" "255 0 0"

damager_add_type "in" "DAMAGER_MENU_IN_TYPE2" "0" "0" "1.0" "-[dmg]" "-[dmg]"
damager_type_data "0.10, 0.70" "255 0 0"

// damager_ignore_classname - команда, которая задает classname объектов урон
//   от которых не будет отображаться
// Формат команды:
//   damager_ignore_classname "classname"
// classname - обязательный аргумент, отвечающий за classname объекта
//   Спец. значение: bomb - для игнорирования отображения урона от бомбы
damager_ignore_classname "bomb"
</div>
<p>Последняя версия 1.6.0 (12 мая 2025г):</p>
<ul style="padding-left: 55px;">
  <li><a href="damager_advanced_changelog.md">Список изменений</a></li>
</ul>
</div>
</body>
</html>