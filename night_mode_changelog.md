## 1.7.0 (30 июн 2024г):
### Добавлено:
- добавлен квар nm_hud_informer_default_state, который определяет будет (1) или  
нет (0) показываться информер по умолчанию
- добавлен квар nm_hud_informer_toggle_cmd, отвечающий за список команд  
(разделенных ';'), с помощью которых включается/отключается отображение информера
- добавлена возможность кастомизации информера. Настраивается в 'lang/night_mode.txt'
```
      ; Список контекстно-зависимых аргументов для HUD информеров:
      ; [map] - имя карты текущего интервала
      ; [start_time] - время начала текущего интервала
      ; [end_time] - время конца текущего интервала
      ; [left_time] - время, оставшееся до конца текущего интервала
      ; [next_map] - имя карты следующего интервала
      ; [next_start_time] - время начала следующего интервала
      ; [next_end_time] - время конца следующего интервала
      ; [next_left_time] - время, оставшееся до начала следующего интервала
```
### Обновившиеся файлы:
- addons/amxmodx/plugins/night_mode.amxx
- addons/amxmodx/configs/night_mode.cfg
- addons/amxmodx/data/lang/night_mode.txt

## 1.6.0 (25 янв 2024г):
### Добавлено:
- добавлен квар nm_timelimit_offset, определяющий на сколько секунд 'mp_timelimit'  
  будет больше времени окончания интервала. Пригодится в случае если голосование  
  за смену карты, начинается раньше чем заканчивается интервал
- добавлена команда:
```
      // nm_block_cmd_reset - позволяет очистить список команд, заблокированных
      //   командой nm_block_cmd
      // Формат команды:
      //   nm_block_cmd_reset
```
- добавлены форварды:
```
      /**
      * Форвард функция вызывается при старте очередного интервала ночного режима.
      *
      * @noreturn
      */

      forward nm_interval_started();

      /**
       * Форвард функция вызывается в конце текущего интервала ночного режима.
       *
       * @noreturn
       */

      forward nm_interval_ended();
```
### Изменено:
- переделана блокировка команд:
  * теперь неважна позиция плагина, в котором зарегистрирована блокируемая  
    команда
  * динамическое отключение блокировки команд без необходимости смены карты
- команде nm_block_cmd добавлено описание
- команде nm_block_cmd добавлен аргумент 'cmd_args' (см nigt_mode.cfg)

### Исправлено:
- квар 'mp_timelimit' изменялся, даже если изначально он был равен 0
- список плагинов обнулялся после выполнения конфига конца интервала
- длина имени плагина в команде 'nm_load_plugin' была ограничена 31 символом
- длина имени команды в команде 'nm_block_cmd' была ограничена 31 символом

### Обновившиеся файлы:
- addons/amxmodx/plugins/night_mode.amxx
- addons/amxmodx/configs/night_mode.cfg

## 1.5.0 (15 фев 2023г):
### Добавлено:
- добавлена возможность в 'night_mode.ini' указывать не только часы и минуты, но  
  и даты
- добавлен квар nm_start_end_hud_msg, который отвечает за RGB цвет, XY координаты  
  и продолжительность HUD сообщения старта и конца ночного режима

### Изменено:
- глобальный рефакторинг кода
- переработаны debug логи
- квар nm_changelevel_type переименован в nm_stop_interval_type
- в 'night_mode.ini' расширено описание связанное с указанием дней недели и времени
- описание команды nm_load_plugin расширено и перенесено в 'night_mode_start.cfg'
- конфигурационный файл night_mode_end.cfg переименован в night_mode_stop.cfg,  
  чтобы при сортировке файлов по имени night_mode_start.cfg шел первым

### Исправлено:
- не все ключи словаря можно было комментировать с целью отключения HUD сообщения
- исправлено обновление mp_timelimit при sv_restart и sv_restartround

### Удалено:
- удален квар nm_start_cfg_exec_delay

### Обновившиеся файлы:
- addons/amxmodx/plugins/night_mode.amxx
- addons/amxmodx/configs/night_mode.cfg
- addons/amxmodx/configs/night_mode.ini
- addons/amxmodx/configs/night_mode_start.cfg
- addons/amxmodx/data/lang/night_mode.txt

## 1.4.1 (29 мая 2022г):
### Добавлено:
- добавлен квар nm_changelevel_type, отвечающий за тип смены карты.  
  - 0 - сразу как наступило время
  - 1 - дождаться начала следующего раунда

### Исправлено:
- лог 'Invalid week day string' отображался в обычных логах, хотя должен был  
  отображаться только при nm_debug_level 2

### Обновившиеся файлы:
- addons/amxmodx/plugins/night_mode.amxx
- addons/amxmodx/configs/night_mode.cfg

## 1.3.0 (19 апр 2021г):
### Добавлено:
- добавлена forward функция 'night_mode_event(event_id)', которая вызывается  
  (на данный момент) когда начинается и заканчивается ночной режим
- доп значение для native функции nm_get_night_mode_status. Значение 2, означает  
  что ночной режим под управлением менеджера карт (ключевое слово unknown в  
  night_mode.ini)

### Изменено:
- изменен код под внешнее ядро плагинов (plugins_core.amxx)
- изменяет код для лучшей совместимости с All Inclusive
- поправлено положение информера для разрешения 640x480
- часть дебаг логов переведена в статус обычных, так как они информировали  
  о нештатных ситуациях
- больше не ставится на паузу если плохая карта (только дебаг лог)

### Обновившиеся файлы:
- addons/amxmodx/plugins/night_mode.amxx
- addons/amxmodx/configs/night_mode.cfg
- addons/amxmodx/configs/night_mode_start.cfg
- addons/amxmodx/configs/night_mode_end.cfg
- addons/amxmodx/data/lang/night_mode.txt

## Версия 1.2.3 (13 мар 2018г):
### Добавлено:
- добавлен форварды 'nm_night_mode_enabled' (включение) и 'nm_night_mode_disabled'  
  (выключение), которые вызываются при включении и отключении ночного режима
- добавлена native функция nm_get_night_mode_status, которая позволяет получить  
  текущий статус ночного режима. 1 - включено, 0 - выключено

### Исправлено:
- исправлен недочет: при определенном стечении обстоятельств mp_timelimit  
  округлялся неправильно, что приводило к постоянному его уменьшению
- исправлен недочет: не менялась карта после создания файла со списком плагинов  
  загружаемых через Night Mode
  
## Версия 1.2.0 (31 янв 2018г):
### Добавлено:
- добавлена возможность указывать день недели либо в виде диапазона (1-7),  
  либо перечислением (1,2,3 и т.д) в night_mode.ini  
  Внимание: нужно обновить (удалить чтобы создался новый) файл  
  'addons/amxmodx/configs/night_mode.ini'
- добавлен квар nm_start_cfg_exec_delay, который задает задержку загрузки  
  конфигурационного файла, запускаемого при старте ночного режима
- добавлено оповещение в чате при попытке использовать заблокированную команду
- добавлена возможность работы ночного режима без указания карт. Для этого вместо  
  названия карты указывается слово 'unknown' (с англ. неизвестно), время начала  
  и конца ночного режима. При этом время карты и её смена не блокируется и  
  проходит под управлением текущего менеджера карт

### Изменено:
- HUD сообщение о включении ночного режима, теперь показывается с задержкой в  
  nm_start_cfg_exec_delay секунд
- плагин теперь может либо на время включать CSDM режим, либо все время работать  
  в нем. Для включения и выключения, прописываются команды csdm_enable  
  в стартовый и csdm_disable (если нужно отключить CSDM) в конечный конфиг
- версии для классических серверов и для CSDM режима, теперь в одном плагине.  
  Модули CSDM и RoundControl не подгружаются автоматически, необходимо их  
  прописывать в modules.ini, если используется CSDM режим

### Исправлено:
- исправлен недочет: неправильный расчет времени при определенных условиях,  
  в результате чего ночной режим мог выключиться (багрепорт Bullseye)
- устранен недочет: если время начала больше времени конца при некотором стечении  
  обстоятельств, время рассчитывалось для следующих суток и ночной режим не включался

## Версия 1.1.0 (15 июн 2017г):
### Добавлено:
- добавлено автоматическое создание конфигурационного файла night_mode.ini
- добавлено автоматическое создание конфигурационных файлов, которые будут  
  выполняются в начале и конце ночного режима
- добавлена команда nm_load_plugin, определяющая какие плагины будут загружены
- добавлен квар nm_hud_informer_delay, отвечающий за время (в секундах),  
  через которое будет показываться информер
- добавлен квар nm_hud_informer_show_time, определяет сколько времени  
  (в секундах) будет показываться информер

### Исправлено:
- устранен недочет: наложение информеров в результате чего цвет был ярче

### Удалено:
- удален код блокирующий запуск плагина на ReHLDS серверах, но не проверялась  
  работоспособность

## Версия 1.0.3 (07 дек 2016г):
- добавлена консольная команда nm_block_cmd, которая вносит команду, указанную  
  в качества аргумента, в список блокируемых на время ночного режима
- добавлена блокировка изменения кваров влияющих на работу ночного режима
- добавлена возможность отключения любых сообщений с помощью комментирования в  
  night_mode.txt ('//' или ';')