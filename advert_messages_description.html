<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Описание плагина Advert Messages</title>
</head>
<body>
<div style="width: 700px;">
Advert Messages 1.6.0
<p>Автор: Radius</p>
<p>Описание:</p>
<p style="padding-left: 30px;">Плагин позволяет выводить текстовую информацию в виде детально настраиваемых чат, HUD и DHUD сообщений</p>
<p>Особенности:</p>
<ul>
<li>неограниченное количество сообщений</li>
<li>возможность задать дату, время или промежуток времени</li>
<li>возможность задать событие, при котором будет показано сообщение</li>
<li>возможность задать раунд, с которого начнет показываться сообщение</li>
<li>возможность задать флаги, необходимые чтобы увидеть сообщение</li>
<li>возможность задать условия, необходимые чтобы увидеть сообщение</li>
<li>возможность задать продолжительность HUD/DHUD сообщения</li>
<li>возможность задать задержку перед показом сообщения</li>
<li>возможность задать для каждого сообщения свой звуковой файл (wav или mp3)</li>
<li>возможность индивидуального отключения отображения сообщений, с сохранением выбора и восстановлением при следующем подключении игрока</li>
<li>поддержка случайного цвета для HUD/DHUD сообщений</li>
<li>поддержка большого числа доп. значений для текста сообщения: %hostname%, %host_ip%, %mapname%, %nextmap%, %timeleft%, %timelimit%, %thetime%</li>
<li>возможность вставлять в сообщения перенос строки (^n), в том числе для чата</li>
<li>автоматическая расстановка переносов в сообщениях чата, учитывающая цвет текста</li>
<li>имеется API для разработчиков</li>
<li>все квары и команды для удобства настраиваются в автоматически создаваемом конфигурационном файле 'addons/amxmodx/configs/advert_messages.cfg'</li>
<li>автоматически создаваемый словарь многоязычности 'addons/amxmodx/data/lang/advert_messages.txt'</li>
</ul>

<p>Требования:</p>
<ul><li><a href="https://radiusr16.github.io/Plugins-Descriptions/plugins_core_description.html">Plugins Core (версии 1.8.0 и выше)</a></li></ul>
<p>Настройки (из автоматически создаваемого конфигурационного файла 'advert_messages.cfg'):</p>
<div style="padding-left: 30px;white-space:pre;font-family:monospace">
// ad_update_config - обновляет файл 'advert_messages.cfg' при смене карты
//   1 - обновить файл
//   2 - сделать бэкап (*.bkp) и обновить файл
// Внимание: Текущие значения кваров (кроме команд), запишутся в обновленный файл
// Квар со значением прописывается в консоли сервера
// После обновления квар сам вернется в значение 0

// ad_update_dictionary - обновляет lang файл 'advert_messages.txt' при смене карты
//   1 - обновить файл
//   2 - сделать бэкап (*.bkp) и обновить файл
// Внимание: Квар со значением прописывается в консоли сервера
// После обновления квар сам вернется в значение 0

// Уровень логов
//   0 - выключено (OFF)
//   1 - предупреждения (WARN)
//   2 - информация (INFO)
//   3 - отладочная информация (DEBUG)
//   4 - подробная отладочная информация (TRACE)
// По умолчанию: "2"
ad_log_level "2"

// Показывать (1) или нет (0) информационные сообщения по умолчанию
// По умолчанию: "1"
ad_show_default_state "1"

// Список команд (разделенных ';'), с помощью которых включается / отключается
// отображение информационных сообщений
// По умолчанию: "say /adverts"
ad_show_toggle_cmd "say /adverts"

// ad_add_entry - команда, которая добавляет и настраивает рекламные сообщения
// Формат команды:
//   ad_add_entry "1" "2" "3" "4" "5" "6" "7" "8" "9"
// 1. format_time | start_date_time - end_date_time - обязательный аргумент,
//   отвечающий за промежуток времени, в течение которого будет показываться
//   сообщение
//   format_time - задает формат времени, в котором будет ожидаться значение
//     date_time. Например: %m/%d/%Y %H:%M
//   start_date_time - дата и время начала показа сообщения в формате ранее
//     заданном в format_time
//   end_date_time - дата и время конца показа сообщения в формате ранее
//     заданном в format_time
//   Более подробная информация по формату времени:
//     http://cplusplus.com/reference/clibrary/ctime/strftime.html
//   Пустое значение отключает ограничение по дате / времени
// 2. event:optional_value - обязательный аргумент, отвечающий за событие,
//   при котором будет показано сообщение
//   event - событие, при котором будет показываться сообщение
//     Допустимые значения:
//     • connect - игрок подключился к серверу (client_putinserver)
//     • spawn   - игрок возродился
//     • killed  - игрок умер
//     • queue   - сообщения всех типов идут по единой очереди циклически
//     • round_start - начало раунда
//     • round_end   - конец раунда
//   optional_value - необязательное значение, отвечающее за номер раунда,
//     с которого будет работать событие
// 3. type - обязательный аргумент, отвечающий за тип сообщения
//   Допустимые значения:
//   • chat - чат
//   • hud  - HUD
//   • dhud - DHUD
// 4. delay - обязательный аргумент, отвечающий за время (в секундах), через
//   которое будет показано сообщение
//   Дополнительные особенности:
//   • Если значение пустое или равно 0, то сообщение показывается без задержки
//   • Время можно указывать в виде диапазона. Значение выбирается случайным
//     образом в пределах минимального (1ая цифра) и максимального (2ая цифра)
//     значений. Например: 10-15
// 5. access_flags - обязательный аргумент, отвечающий за флаги доступа
//   необходимые чтобы увидеть сообщение
//   Дополнительные значения:
//   • all - разрешено всем
// 6. filter_flags - обязательный аргумент, отвечающий за флаги фильтров,
//   которые определяют условия просмотра сообщения
//   Допустимые значения:
//   • a - показывать живым
//   • b - показывать мертвым
//   • c - показывать если игрок в команде Counter-Terrorists
//   • t - показывать если игрок в команде Terrorists
//   • s - показывать если игрок в команде Spectators
//   • u - показывать если игрок еще не выбрал команду
//   • пустое значение отключает фильтры
//   Внимание: Если нет ни одного командного фильтра, то это равнозначно флагам
//     'ctsu' (показывать независимо от команды)
// 7. rgb_color | x_position y_position | duration - обязательный аргумент,
//   отвечающий за настройки цвета, позиции и продолжительности HUD/DHUD
//   сообщения
//   Внимание: Аргумент игнорируется для сообщений типа 'chat'
//   rgb_color - задает цвет сообщения в RRR GGG BBB формате
//     Например: 255 255 255
//     Дополнительные значения:
//     • %random_color% - случайное значение цвета
//     • символьные константы, задающие значение цвета:
//       {white}, {silver}, {gray}, {black}, {red}, {maroon}, {yellow}, {olive},
//       {lime}, {green}, {aqua}, {teal}, {blue}, {navy}, {fuchsia}, {purple}
//   x_position y_position - задает X и Y позицию сообщения
//     Например: -1.0 0.0
//   duration - задает продолжительность сообщения в секундах
// 8. text_message - обязательный аргумент, отвечающий за текст сообщения
//   Дополнительные значения:
//   • ^n - перенос строки
//   • !n - стандартный цвет (только для сообщений типа 'chat')
//   • !g - зеленый цвет (только для сообщений типа 'chat')
//   • !t - цвет команды игрока (только для сообщений типа 'chat')
//   • %hostname% - имя сервера
//   • %host_ip% - ip адрес сервера
//   • %mapname% - название текущей карты
//   • %nextmap% - название следующей карты (значение квара 'amx_nextmap')
//   • %timeleft% - время до конца карты в формате %M:%S (минуты:секунды)
//   • %timelimit% - значение квара mp_timelimit (продолжительность карты)
//   • %thetime% - текущее время в формате %d.%m.%Y - %H:%M:%S
//     (день.месяц.год - часов:минут:секунд)
// 9. sound_path - необязательный аргумент, отвечающий за путь к файлу звука
//   (wav или mp3), который будет проигрываться вместе с сообщением

ad_add_entry "" "queue" "chat" "10-15" "all" "" "" "!n[!tИнфо!n] Адрес нашего сайта:!g www.example.com" "buttons/bell1.wav"
ad_add_entry "" "queue" "chat" "10-15" "all" "" "" "!n[!tИнфо!n] IP адрес сервера:!g %host_ip%" "buttons/bell1.wav"

ad_add_entry "" "queue" "hud"  "10-15" "all" "" "%random_color% | -1.0 0.0"  "Адрес нашего сайта: www.example.com"
ad_add_entry "" "queue" "hud"  "10-15" "all" "" "%random_color% | -1.0 0.0"  "IP адрес сервера: %host_ip%"
ad_add_entry "" "queue" "dhud" "10-15" "all" "" "%random_color% | -1.0 0.05" "Адрес нашего сайта: www.example.com"
ad_add_entry "" "queue" "dhud" "10-15" "all" "" "%random_color% | -1.0 0.05" "IP адрес сервера: %host_ip%"
</div>
<p>Последняя версия 1.6.0 (09 фев 2026 г.):</p>
<ul style="padding-left: 55px;">
  <li><a href="advert_messages_changelog.html">Список изменений</a></li>
</ul>
</div>
</body>
</html>