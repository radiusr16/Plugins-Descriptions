## Версия 3.5.0 (29 янв 2023 г):
### Добавлено:
- добавлен квар al_db_encrypted_password, который определяет зашифрован пароль (1)  
  или нет (0) в базе данных   
  Внимание: не шифрует пароль, а лишь задает как плагину воспринимать полученный  
  из базы данных пароль
- добавлен квар al_user_ini_encrypted_password, который определяет зашифрован  
  пароль (1) или нет (0) в users.ini  
  Внимание: не шифрует пароль, а лишь задает как плагину воспринимать полученный  
  из users.ini пароль
- автоматическое создание 'users.ini', если был удален

### Исправлено:
- не загружались данные из 'users.ini', если не было указано время окончания услуги
- не работал аргумент remove_flags в native функции al_set_user_flags
- загруженный бэкап базы данных (addons/amxmodx/data/users.bkp), сохранялся в  
  users.ini при определенных условиях

### Обновившиеся файлы:
- addons/amxmodx/plugins/admin_loader.amxx
- addons/amxmodx/configs/admin_loader.cfg

## Версия 3.4.1 (24 ноя 2021 г):
### Исправлено:
- не был изменен Lang файл для перехода на ядро плагинов Plugins Core

## Версия 3.4.0 (20 ноя 2021 г):
### Добавлено:
- добавлена команда al_md5, которая хеширует пароль (или любую строку) с помощью  
  алгоритма хеширования MD5
- пароль в users.ini должен быть в виде MD5 хеша. Многие владельцы серверов часто  
  дают доступ своим заместителям, настройщикам сервера, авторам плагинов. Это  
  небезопасно и чревато утечкой паролей игроков.

### Изменено:
- изменен код под внешнее ядро плагинов (plugins_core.amxx)
- при загрузке аккаунтов из users.ini если пароль не хеширован в логах будет  
  предупреждение
- проверка хешированного пароля теперь регистронезависима

### Исправлено:
- исправлено отключение и удаление истекших аккаунтов

### Обновившиеся файлы:
- addons/amxmodx/plugins/admin_loader.amxx

## Версия 3.3.5 (06 апр 2021 г):
### Добавлено:
- добавлена расширенная версия команды 'amx_who'. Отличие от оригинала в  
  дополнительном столбце 'Info', в котором содержится информация об аккаунте:  
  * при загрузке из базы данных MySQL в этом столбце будет поле nickname (которое  
    не меняется и задано на сайте через который добавлялся аккаунт), что позволит  
    идентифицировать игрока даже если он сменил ник
  * при загрузке через users.ini будет загружена причина добавления (аргумент  
    reason функции al_set_user_flags)
- добавлен новый account flag 'n', который указывает что паролем игрока является  
  его steamid.  
  Это позволяет создавать аккаунты с авторизацией nickname + steamid ('an')

### Изменено:
- бэкап аккаунтов, загруженных из базы данных MySQL, теперь хранится в файле  
  'addons/amxmodx/data/users.bkp'
- users.ini возвращена оригинальная функциональность, теперь это не бэкап файл,  
  а дополнительное хранилище аккаунтов, добавленных вручную или плагинами
- расширена функциональность native функции 'al_set_user_flags'. Если authid  
  (5-ый аргумент) не пустой, то произойдет запись аккаунта в файл users.ini с  
  указанием причины из аргумента reason (6-ой аргумент). По истечению времени   
  действия аккаунта, он будет автоматически удален из файла.
```
      /**
        * @ param player                  индекс игрока
        * @ param flags                   битсумма выдаваемых флагов доступа
        * @ param remove_flags            убрать (1) или нет (0) перед выдачей текущие
        *                                 флаги игрока
        * @ param access_expire_timestamp UTC время окончания выданных флагов доступа
        * @ param authid                  steamid игрока. Если указан, то флаги будут
        *                                 сохранены в users.ini
        * @ param reason                  причины выдачи флагов доступа. Отображается 
        *                                 в логах и в выводе команды amx_who
        *
        * @ noreturn
      */
      native al_set_user_flags(player, flags, remove_flags = 0, access_expire_timestamp, authid[AUTH_LEN], reason[128]);
```

### Исправлено:
- исправлена редкая ошибка невалидного Array handle

## Версия 3.3.2 (03 сен 2019 г):
### Исправлено:
- исправлена остановка плагина при ошибке кэширования данных (недочеты оригинала)

## Версия 3.3.1 (31 мар 2018 г):
### Добавлено:
- реклама в консоли игрока при подключении
- в функцию al_set_user_flags, добавлен четвертый параметр access_expire_timestamp,  
  который позволяет задать время истечения выдаваемых флагов доступа. Прототип  
  функции выглядит теперь так:
```  
  native al_set_user_flags(index, flags, remove_flags = 0, access_expire_timestamp = 0);
```
- добавлено запоминание флагов доступа выданных через native функцию al_set_user_flags,  
  теперь они не сбрасываются после перезагрузки с помощью команды amx_reloadadmins
- добавлен квар al_reload_flags_freq, отвечающий за частоту (в минутах) перезагрузки  
  флагов доступа. Пригодится если привилегии продаются в автоматическом режиме.  
  Если значение 0, то функция отключена
- добавлена native функция al_set_user_flags(index, flags, remove_flags = 0);,  
  которая является расширенной версией стандартной функции set_user_flags.  
  Расширенная версия может обнулять флаги перед установкой новых, а также запускает  
  форварды, сообщая другим плагинам что произошло изменение прав доступа
- добавлена проверка срока прав доступа в режиме реального времени (с точностью  
  до минуты)
- добавлена возможность загружать несколько аккаунтов для одного игрока. Данная  
  возможность позволит делить права доступа на группы с разным сроком  
  Внимание: время когда истекает текущий набор флагов, определяется по наименьшему.  
  Как только истечет время, произойдет пересмотр прав доступа и время истечения  
  обновится, опять же по наименьшему из оставшихся

### Изменено:
- значение квара amx_default_access, теперь не кэшируется, чтобы была возможность  
  динамически менять значение квара (например для реализации VIP привилегий на ночь)
- в users.ini дата окончания теперь сохраняется в понятном для человека формате  
  (ранее были просто цифры timestamp)

### Исправлено:
- исправлен недочет оригинального плагина: при загрузке из файла, хранилище  
  загруженных прав доступа не обнулялось
- исправлен недочет оригинального плагина: ошибки при попытке вызова команды  
  amx_reloadadmins если не было связи с сервером и сервер переключился на  
  загрузку из файла
- исправлен недочет: не обнулялся Handle после теста соединения из-за введенных  
  для безопасности дополнительных условий

## Версия 3.2.0 (15 фев 2018 г):
### Добавлено:
- new добавлена native функция adminload_get_expired для совместимости с плагинами,  
  которые были написаны для Admin Load от F@nt0M
- добавлены native функция amxbans_get_expired и forward функция  
  amxbans_admin_connect для совместимости с плагинами, которые были написаны для  
  AMXBans RBS (fungun.net)
- добавлена возможность загрузки админов из users.ini (без базы данных), но с  
  возможностью задавать время окончания прав доступа. По истечению срока,  
  просроченная запись не загружается, вместо этого создается лог информирующий о  
  том что имеются просроченные аккаунты
- добавлена поддержка стандартных флагов авторизации b (тег клана) и k  
  (чувствительность к регистру)
- в users.ini, который создается после backup'а, добавлена стандартная памятка  
  по работе с флагами доступа
- плагин теперь использует ядро плагинов версии 1.0.3 (конфиги, мультиязычность  
  и т.д)

### Исправлено:
- улучшено определение установленной бан системы. Так как в оригинальном плагине  
  проверялось только наличие конфига от бан системы, а самого плагина могло и  
  не быть, либо он мог быть отключен
- исправлен недочет интеграции ядра плагинов
- исправлен недочет с форвардами, в результате чего в плагинах использующих не  
  загружались флаги доступа

### Удалено:
- удалена native функция al_get_access, так как она повторяет функциональность  
  стандартной native функции get_user_flags
