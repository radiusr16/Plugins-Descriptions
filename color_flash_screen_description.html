<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Описание плагина Color Flash Screen</title>
</head>
<body>
<div style="width: 700px;">
Color Flash Screen
1.8.0
<p>Автор: Radius</p>
<p>Описание:</p>
<p style="padding-left: 30px;">Плагин подсвечивает выбранным цветом экран атакующего в момент фрага и воспроизводит звук. Цвет выбирается в меню по настраиваемой команде чата, в котором также имеется возможность отключения подсвечивания экрана. Выбранный цвет (в том числе и отключение его) сохраняется и игроку не придется изменять его при следующем посещении сервера</p>
<p>Особенности:</p>
<ul>
<li>new: возможность задавать сколько HP будет добавляться при фраге определенным оружием, гранатой, бомбой и любым оружием/объектом по его classname (см 'color_flash_screen.cfg')</li>
<li>возможность задавать сколько HP будет добавляться при фраге в зависимости от флагов доступа (см 'color_flash_screen.cfg')</li>
<li>вызов меню выбора цвета c помощью native функции cfs_menu_display(id);</li>
<li>вызов меню выбора цвета по команде указанной в кваре cfs_choice_color_menu_cmd (см квары)</li>
<li>функция вампиризма с отображением специальной иконки (см квары)</li>
<li>возможность самостоятельно добавлять цвета в меню при помощи серверной консольной команды cfs_add_color</li>
<li>не снимает эффект ослепления от флешки при убийстве противника</li>
<li>возможность задания и отключения звука, который будет проигрываться игроку при убийстве противника (квар cfs_sound)</li>
<li>возможность отключать себе функцию подсвечивания экрана с сохранением сделанного выбора и восстановлением при следующем подключении</li>
<li>возможность настроить флаги доступа для игроков, которым будет подсвечиваться экран (квар cfs_access_flags)</li>
<li>все квары и команды для удобства настраиваются в автоматически создаваемом конфигурационном файле 'addons/amxmodx/configs/color_flash_screen.cfg'</li>
<li>автоматически создаваемый словарь мультиязычности 'addons/amxmodx/data/lang/color_flash_screen.txt'</li>
</ul>
<p>Требования:</p>
<ul><li>Plugins Core (версии 1.7.0 и выше)</li></ul>
<p>Настройки (из автоматически создаваемого конфигурационного файла 'color_flash_screen.cfg'):</p>
<div style="padding-left: 30px;white-space:pre;font-family:monospace">
// cfs_update_config - обновить (1) или нет (0) данный файл при смене карты
// Внимание: Текущие значения кваров (кроме команд), запишутся в обновленный файл
// Квар со значением 1 прописывается в консоли сервера
// После обновления квар сам вернется в значение 0

// cfs_update_dictionary - обновить (1) или нет (0) lang файл при смене карты
// Внимание: Квар со значением 1 прописывается в консоли сервера
// После обновления квар сам вернется в значение 0

// Уровень логов
//  0 - выключено (OFF)
//  1 - предупреждения (WARN)
//  2 - информация (INFO)
//  3 - отладочная информация (DEBUG)
//  4 - подробная отладочная информация (TRACE)
// По умолчанию: "2"
cfs_log_level "2"

// Куда будут писаться логи:
//  0 - в стандартный лог AMX Mod X "addons/amxmodx/logs"
//  1 - в подпапку "addons/amxmodx/logs/color_flash_screen"
// По умолчанию: "1"
cfs_log_type "1"

// Команда с помощью которой будет вызываться меню выбора цвета затемнения экрана
// 'impulse 100' - фонарь, 'impulse 201' - спрей
// По умолчанию: "say /fadecolor;fadecolor"
cfs_choice_color_menu_cmd "say /fadecolor;fadecolor"

// Показывать (1) или нет (0) меню выбора цвета при первом подключении
// По умолчанию: "1"
cfs_auto_show_menu "1"

// Номер пункта в меню выбора цвета затемнения экрана по умолчанию
// Если значение 0, то затемнения не будет
// По умолчанию: "1"
cfs_default_color "1"

// Путь к файлу звука (wav или mp3), который проигрывается игроку при фраге
// Если квар пустой, то функция отключена
// По умолчанию: "buttons/bell1.wav"
cfs_sound "buttons/bell1.wav"

// Включено (1) или выключено (0) проигрывание звука при фраге по умолчанию
// По умолчанию: "1"
cfs_sound_play_default "1"

// Флаги доступа игроков, которым будет затемняться экран
// Значение 'all' - разрешено всем, ''(пустое) - запрещено всем
// По умолчанию: "all"
cfs_access_flags "all"

// Добавлять (1) или нет (0) ботам HP при фраге
// По умолчанию: "1"
cfs_add_bots_hp "1"

// Продолжительность показа иконки добавления здоровья на экране
// Если значение 0, то функция отключена
// По умолчанию: "3"
cfs_heal_icon_duration "3"

// Продолжительность затухания затемнения экрана при фраге
// По умолчанию: "0.25"
cfs_fade_time "0.25"

// Продолжительность полного затемнения экрана при фраге (с учетом прозрачности),
// после которого оно пойдет на спад
// По умолчанию: "0.25"
cfs_hold_time "0.25"

// Время хранения настроек игрока (в днях)
// По умолчанию: "30"
cfs_data_storage_time "30"

// cfs_add_color - команда, которая добавляет цвет затемнения экрана в меню
// Формат команды:
//   cfs_add_color "menu_item_name" "rgb_color" "opacity"
// menu_item_name - обязательный аргумент, отвечающий за описание цвета в меню.
//   Указывается либо текст, либо ключ словаря из color_flash_screen.txt
// rgb_color - обязательный аргумент, отвечающий за цветовой код в формате RGB
// opacity - обязательный аргумент, отвечающий за непрозрачность цвета
//   Диапазон значений от 50 до 200, с шагом в 50 единиц (50, 100, 150, 200)
cfs_add_color "CFS_MENU_BLUE"  "{blue}"     "50"
cfs_add_color "CFS_MENU_RED"   "{red}"      "50"
cfs_add_color "CFS_MENU_GREEN" "{lime}"     "50"
cfs_add_color "CFS_MENU_PINK"  "255 20 147" "50"

// cfs_add_hp - команда, которая задает сколько HP будет добавляться при фраге
//   в зависимости от флагов доступа и того чем или при каких условиях был убит
//   игрок
// Формат команды:
//   cfs_add_hp "access_flags" "hp_id" "hp_value"
// access_flags - обязательный аргумент, отвечающий за флаги доступа
//    Спец. значения: 'all' - разрешено всем, ''(пустое) - запрещено всем
// hp_id - обязательный аргумент, отвечающий за идентификатор, который
//   определяет чем или при каких условиях должен быть убит игрок, чтобы
//   атакующий получил HP
//   Список доступных идентификаторов:
//   def - идентификатор по умолчанию (если не найдено других совпадений)
//   hs  - игрок убит попаданием в голову. Идентификатор, который может работать
//     одновременно с другими (HP добавляется к другим)
//   grenade - игрок убит гранатой
//   bomb - игрок убит бомбой
//   knife, p228, scout, xm1014, mac10, aug, elites, fiveseven, ump45, sg550, 
//   galil, famas, usp, glock, awp, mp5, m249, m3, m4a1, tmp, g3sg1, deagle,
//   sg552, ak47, p90 - убит из опреденного оружия
//   Внимание: Если игрок был убит объектом, который не вошел в список, можно
//    указать его classname в качестве идентификатора
// hp_value - обязательный аргумент, отвечающий за количество добавляемого HP
cfs_add_hp "all" "def" "10"
cfs_add_hp "all" "hs"  "25"
</div>
<p>Последняя версия 1.8.0 (09 авг 2024г):</p>
<ul style="padding-left: 55px;">
  <li><a href="color_flash_screen_changelog.md">Список изменений</a></li>
</ul>
</div>
</body>
</html>